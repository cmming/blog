
1.mysql 集群
```
（mysql 集群）                      （hyproxy 集群）        keepalived 双机热备）           keepalived 双机热备）
172.18.0.2:3306->3307
172.18.0.3:3306->3308            172.18.0.7:8888->4001      172.18.0.201:3306           public ip 3306
172.18.0.4:3306->3309 ---------->172.18.0.7:3306->4002 -->>                     --->>
172.18.0.5:3306->3310            172.18.0.8:8888->4003      172.18.0.201:8888           public ip 8888
172.18.0.6:3306->3311            172.18.0.8:3306->4004 
```

2.接口集群
```
(tomcat 集群)               (nginx 集群)                    keepalived 双机热备）

192.168.50.58:6001          192.168.50.58:6101
192.168.50.58:6002 ----->                       --------> 192.168.50.58:6301
192.168.50.58:6003          192.168.50.58:6102
```


3.前端集群
```
(nginx 集群)                    （nginx 集群负载均衡）         （keepalived 双机热备）
192.168.50.58:6501
                                192.168.50.58:6601
192.168.50.58:6502     ---->                        ----->  192.168.50.58:6701
                                192.168.50.58:6602
192.168.50.58:6503
```
 

                        